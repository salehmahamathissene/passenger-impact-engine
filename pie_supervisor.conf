[program:pie-api]
command=/home/saleh/portfolio/passenger-impact-engine/.venv/bin/uvicorn pie.api.app:app --host 0.0.0.0 --port 8080 --workers 4
directory=/home/saleh/portfolio/passenger-impact-engine
user=saleh
autostart=true
autorestart=true
stderr_logfile=/var/log/pie/api.err.log
stdout_logfile=/var/log/pie/api.out.log

[program:pie-worker]
command=/home/saleh/portfolio/passenger-impact-engine/.venv/bin/python worker_run.py
directory=/home/saleh/portfolio/passenger-impact-engine
user=saleh
autostart=true
autorestart=true
stderr_logfile=/var/log/pie/worker.err.log
stdout_logfile=/var/log/pie/worker.out.log
numprocs=2
process_name=pie-worker-%(process_num)s

[group:pie]
programs=pie-api,pie-worker
